import getTimezoneOffsetInMilliseconds from"../_lib/getTimezoneOffsetInMilliseconds/index.js";import compareAsc from"../compareAsc/index.js";import toDate from"../toDate/index.js";import differenceInSeconds from"../differenceInSeconds/index.js";import cloneObject from"../_lib/cloneObject/index.js";import defaultLocale from"../locale/en-US/index.js";var MINUTES_IN_DAY=1440,MINUTES_IN_MONTH=43200,MINUTES_IN_YEAR=525600;export default function formatDistanceStrict(dirtyDate,dirtyBaseDate,dirtyOptions){if(2>arguments.length){throw new TypeError("2 arguments required, but only "+arguments.length+" present")}var options=dirtyOptions||{},locale=options.locale||defaultLocale;if(!locale.formatDistance){throw new RangeError("locale must contain localize.formatDistance property")}var comparison=compareAsc(dirtyDate,dirtyBaseDate);if(isNaN(comparison)){throw new RangeError("Invalid time value")}var localizeOptions=cloneObject(options);localizeOptions.addSuffix=!!options.addSuffix;localizeOptions.comparison=comparison;var dateLeft,dateRight;if(0<comparison){dateLeft=toDate(dirtyBaseDate);dateRight=toDate(dirtyDate)}else{dateLeft=toDate(dirtyDate);dateRight=toDate(dirtyBaseDate)}var roundingMethod=null==options.roundingMethod?"round":options.roundingMethod+"",roundingMethodFn;if("floor"===roundingMethod){roundingMethodFn=Math.floor}else if("ceil"===roundingMethod){roundingMethodFn=Math.ceil}else if("round"===roundingMethod){roundingMethodFn=Math.round}else{throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'")}var seconds=differenceInSeconds(dateRight,dateLeft),offsetInSeconds=(getTimezoneOffsetInMilliseconds(dateRight)-getTimezoneOffsetInMilliseconds(dateLeft))/1e3,minutes=roundingMethodFn((seconds-offsetInSeconds)/60),unit;if(null==options.unit){if(1>minutes){unit="second"}else if(60>minutes){unit="minute"}else if(minutes<MINUTES_IN_DAY){unit="hour"}else if(minutes<MINUTES_IN_MONTH){unit="day"}else if(minutes<MINUTES_IN_YEAR){unit="month"}else{unit="year"}}else{unit=options.unit+""}if("second"===unit){return locale.formatDistance("xSeconds",seconds,localizeOptions)}else if("minute"===unit){return locale.formatDistance("xMinutes",minutes,localizeOptions)}else if("hour"===unit){var hours=roundingMethodFn(minutes/60);return locale.formatDistance("xHours",hours,localizeOptions)}else if("day"===unit){var days=roundingMethodFn(minutes/MINUTES_IN_DAY);return locale.formatDistance("xDays",days,localizeOptions)}else if("month"===unit){var months=roundingMethodFn(minutes/MINUTES_IN_MONTH);return locale.formatDistance("xMonths",months,localizeOptions)}else if("year"===unit){var years=roundingMethodFn(minutes/MINUTES_IN_YEAR);return locale.formatDistance("xYears",years,localizeOptions)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}